import{G as x,_ as C,H as S,r as h,z as P,o as k,c as E,h as B,q as j,b as d,t as I,v as T,p as W,m as z}from"./index.0241ca17.js";var U={exports:{}};(function(A,_){(function(f,M){A.exports=M()})(x,function(){function f(e){var o=[];return e.AMapUI&&o.push(M(e.AMapUI)),e.Loca&&o.push(m(e.Loca)),Promise.all(o)}function M(e){return new Promise(function(o,n){var a=[];if(e.plugins)for(var i=0;i<e.plugins.length;i+=1)u.AMapUI.plugins.indexOf(e.plugins[i])==-1&&a.push(e.plugins[i]);if(s.AMapUI===t.failed)n("\u524D\u6B21\u8BF7\u6C42 AMapUI \u5931\u8D25");else if(s.AMapUI===t.notload){s.AMapUI=t.loading,u.AMapUI.version=e.version||u.AMapUI.version,i=u.AMapUI.version;var c=document.body||document.head,l=document.createElement("script");l.type="text/javascript",l.src="https://webapi.amap.com/ui/"+i+"/main.js",l.onerror=function(p){s.AMapUI=t.failed,n("\u8BF7\u6C42 AMapUI \u5931\u8D25")},l.onload=function(){if(s.AMapUI=t.loaded,a.length)window.AMapUI.loadUI(a,function(){for(var p=0,v=a.length;p<v;p++){var g=a[p].split("/").slice(-1)[0];window.AMapUI[g]=arguments[p]}for(o();r.AMapUI.length;)r.AMapUI.splice(0,1)[0]()});else for(o();r.AMapUI.length;)r.AMapUI.splice(0,1)[0]()},c.appendChild(l)}else s.AMapUI===t.loaded?e.version&&e.version!==u.AMapUI.version?n("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):a.length?window.AMapUI.loadUI(a,function(){for(var p=0,v=a.length;p<v;p++){var g=a[p].split("/").slice(-1)[0];window.AMapUI[g]=arguments[p]}o()}):o():e.version&&e.version!==u.AMapUI.version?n("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):r.AMapUI.push(function(p){p?n(p):a.length?window.AMapUI.loadUI(a,function(){for(var v=0,g=a.length;v<g;v++){var L=a[v].split("/").slice(-1)[0];window.AMapUI[L]=arguments[v]}o()}):o()})})}function m(e){return new Promise(function(o,n){if(s.Loca===t.failed)n("\u524D\u6B21\u8BF7\u6C42 Loca \u5931\u8D25");else if(s.Loca===t.notload){s.Loca=t.loading,u.Loca.version=e.version||u.Loca.version;var a=u.Loca.version,i=u.AMap.version.startsWith("2"),c=a.startsWith("2");if(i&&!c||!i&&c)n("JSAPI \u4E0E Loca \u7248\u672C\u4E0D\u5BF9\u5E94\uFF01\uFF01");else{i=u.key,c=document.body||document.head;var l=document.createElement("script");l.type="text/javascript",l.src="https://webapi.amap.com/loca?v="+a+"&key="+i,l.onerror=function(p){s.Loca=t.failed,n("\u8BF7\u6C42 AMapUI \u5931\u8D25")},l.onload=function(){for(s.Loca=t.loaded,o();r.Loca.length;)r.Loca.splice(0,1)[0]()},c.appendChild(l)}}else s.Loca===t.loaded?e.version&&e.version!==u.Loca.version?n("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):o():e.version&&e.version!==u.Loca.version?n("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):r.Loca.push(function(p){p?n(p):n()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var t;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(t||(t={}));var u={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},s={AMap:t.notload,AMapUI:t.notload,Loca:t.notload},r={AMap:[],AMapUI:[],Loca:[]},w=[],b=function(e){typeof e=="function"&&(s.AMap===t.loaded?e(window.AMap):w.push(e))};return{load:function(e){return new Promise(function(o,n){if(s.AMap==t.failed)n("");else if(s.AMap==t.notload){var a=e.key,i=e.version,c=e.plugins;a?(window.AMap&&location.host!=="lbs.amap.com"&&n("\u7981\u6B62\u591A\u79CDAPI\u52A0\u8F7D\u65B9\u5F0F\u6DF7\u7528"),u.key=a,u.AMap.version=i||u.AMap.version,u.AMap.plugins=c||u.AMap.plugins,s.AMap=t.loading,i=document.body||document.head,window.___onAPILoaded=function(p){if(delete window.___onAPILoaded,p)s.AMap=t.failed,n(p);else for(s.AMap=t.loaded,f(e).then(function(){o(window.AMap)}).catch(n);w.length;)w.splice(0,1)[0]()},c=document.createElement("script"),c.type="text/javascript",c.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+u.AMap.version+"&key="+a+"&plugin="+u.AMap.plugins.join(","),c.onerror=function(p){s.AMap=t.failed,n(p)},i.appendChild(c)):n("\u8BF7\u586B\u5199key")}else if(s.AMap==t.loaded)if(e.key&&e.key!==u.key)n("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");else if(e.version&&e.version!==u.AMap.version)n("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");else{if(a=[],e.plugins)for(i=0;i<e.plugins.length;i+=1)u.AMap.plugins.indexOf(e.plugins[i])==-1&&a.push(e.plugins[i]);a.length?window.AMap.plugin(a,function(){f(e).then(function(){o(window.AMap)}).catch(n)}):f(e).then(function(){o(window.AMap)}).catch(n)}else if(e.key&&e.key!==u.key)n("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");else if(e.version&&e.version!==u.AMap.version)n("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");else{var l=[];if(e.plugins)for(i=0;i<e.plugins.length;i+=1)u.AMap.plugins.indexOf(e.plugins[i])==-1&&l.push(e.plugins[i]);b(function(){l.length?window.AMap.plugin(l,function(){f(e).then(function(){o(window.AMap)}).catch(n)}):f(e).then(function(){o(window.AMap)}).catch(n)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,u={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},s={AMap:t.notload,AMapUI:t.notload,Loca:t.notload},r={AMap:[],AMapUI:[],Loca:[]}}}})})(U);const J=U.exports;const y=A=>(W("data-v-b2a1cfae"),A=A(),z(),A),O={class:"main-box"},D=y(()=>d("div",{id:"container"},null,-1)),G=y(()=>d("div",{class:"box"},[d("div"),d("div"),d("div"),d("div")],-1)),V={class:"weather"},q={class:"bigBox"},N={class:"city"},R={class:"clear"},F={class:"forecast"},H={class:"temperature"},Z=["value"],K=y(()=>d("span",{class:"iconfont icon-a-ziyuan290"},null,-1)),Q={__name:"index",setup(A){const _=S(null),f=h(""),M=h(""),m=h(""),t=h(""),u=h(""),s=h(""),r=()=>{window._AMapSecurityConfig={securityJsCode:"70ad83856e431e14d13ce6124ff5f117"},J.load({key:"38fd1ab532e5a8c3a0da71b76e67c78e",version:"2.0",plugins:["AMap.ToolBar","AMap.Driving","AMap.ControlBar","AMap.PlaceSearch","AMap.AutoComplete","AMap.Geolocation","AMap.AdvancedInfoWindow","AMap.Weather","AMap.CitySearch"]}).then(o=>{_.value=new o.Map("container",{pitch:5,viewMode:"3D",terrain:!0,pitch:50,zoom:18,mapStyle:"amap://styles/normal",buildingAnimation:!0,resizeEnable:!1,rotateEnable:!1,pitchEnable:!0,expandZoomRange:!1,resizeEnable:!0}),s.value=new o.CitySearch,w(o),e(s.value)}).catch(o=>{console.log(o)})},w=o=>{let n={input:"tipinput"},a=new o.AutoComplete(n),i=new o.PlaceSearch({map:_.value});a.on("select",c);function c(l){i.setCity(l.poi.adcode),i.search(l.poi.name)}},b=o=>{new o.Weather().getForecast(u.value,function(a,i){a||(M.value=i.forecasts[0].dayWeather,m.value=i.forecasts[0].dayTemp,t.value=i.forecasts[0].nightTemp)})},e=o=>{o.getLocalCity(function(n,a){u.value=a.city})};return setTimeout(()=>{b(AMap)},1e3),P(()=>{r()}),(o,n)=>(k(),E("div",O,[D,B(j(T)),G,d("div",V,[d("div",q,[d("div",N,I(u.value),1),d("div",R,[d("div",F,I(M.value),1),d("div",H,I(t.value)+"~"+I(m.value)+"\u2103",1)])])]),d("div",{class:"search",onClick:n[0]||(n[0]=(...a)=>o.inputClick&&o.inputClick(...a))},[d("input",{id:"tipinput",value:f.value,type:"text"},null,8,Z),K])]))}},Y=C(Q,[["__scopeId","data-v-b2a1cfae"]]);export{Y as default};
